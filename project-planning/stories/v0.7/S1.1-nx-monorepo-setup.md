# ðŸŽ¯ STORY S1.1: "Nx Monorepo Development Environment Setup"

## ðŸ“Š Story Information
- **Epic:** E1: Foundation & Infrastructure
- **Version:** V0.7
- **Priority:** P0-Critical
- **Estimated Size:** L (5 days)
- **Assigned Sprint:** Sprint 1 (Weeks 1-2)
- **Team:** Fullstack (all 3 developers involved)

## ðŸ‘¤ User Story
**As a** developer on the Knowledge Graph Wiki Tool team  
**I want** a properly configured Nx monorepo with both frontend and backend applications  
**So that** I can efficiently develop, test, and deploy the application with consistent tooling and processes

## ðŸŽ¯ Business Value
This story is critical for establishing the development foundation. Without proper tooling setup, all subsequent development will be inefficient and error-prone. A well-configured monorepo reduces development friction, enables code sharing, and ensures consistent quality standards across the team.

## ðŸ“‹ Acceptance Criteria
- âœ“ **AC1.1.1:** Developer can run `nx build frontend` and get successful production build
- âœ“ **AC1.1.2:** Developer can run `nx serve backend` and API responds on localhost:8000 with health check
- âœ“ **AC1.1.3:** Developer can run `nx test frontend` and `nx test backend` with >80% coverage
- âœ“ **AC1.1.4:** Developer can run `nx lint` and see consistent code style across both apps
- âœ“ **AC1.1.5:** GitHub Actions CI pipeline runs all nx commands successfully on PR
- âœ“ **AC1.1.6:** New developer can setup project in <30 minutes following README
- âœ“ **AC1.1.7:** Hot reload works for both frontend and backend during development
- âœ“ **AC1.1.8:** Environment variables are properly configured for dev/prod environments

## ðŸ”§ Implementation Issues

### **Task 1.1.1:** Setup Nx workspace structure *(Size: M, 2 days, P0-Critical)*
- Initialize Nx workspace with `create-nx-workspace`
- Configure nx.json with build targets for both apps
- Setup shared libs structure for common utilities
- Configure workspace-wide TypeScript/JavaScript settings
- Setup shared dependencies in root package.json

### **Task 1.1.2:** Configure React 19 frontend application *(Size: M, 2 days, P0-Critical)*
- Generate React app with `nx g @nx/react:app frontend`
- Configure Vite as build tool for faster development
- Setup Tailwind CSS 4 with proper configuration
- Install and configure Shadcn/ui component library
- Setup basic routing with React Router
- Configure environment variables handling

### **Task 1.1.3:** Configure FastAPI backend application *(Size: M, 2 days, P1-High)*
- Generate Python FastAPI app structure
- Configure Python 3.14 with uv package manager
- Setup FastAPI with uvicorn server
- Create basic health check endpoint (`/health`)
- Configure CORS for frontend-backend communication
- Setup environment variables with python-dotenv

### **Task 1.1.4:** Setup GitHub Actions CI/CD pipeline *(Size: M, 2 days, P1-High)*
- Create `.github/workflows/ci.yml` with build/test/lint jobs
- Configure dependency caching for faster builds
- Setup matrix builds for different environments
- Configure automated testing on PR
- Setup branch protection rules requiring CI success
- Configure deployment pipeline basics (placeholder for later)

### **Task 1.1.5:** Developer experience optimization *(Size: S, 1 day, P2-Medium)*
- Configure VSCode workspace settings and extensions
- Setup prettier and eslint configurations
- Create development scripts for common tasks
- Configure git hooks with husky for pre-commit checks
- Setup docker-compose for local development environment

### **Task 1.1.6:** Documentation and onboarding *(Size: S, 1 day, P2-Medium)*
- Write comprehensive README with setup instructions
- Document common development workflows
- Create troubleshooting guide for common issues
- Record setup video walkthrough
- Create developer onboarding checklist

## ðŸ“ Definition of Done
- [ ] All acceptance criteria pass manual testing by different developer
- [ ] Unit tests setup with >80% coverage requirement enforced
- [ ] Integration test framework configured
- [ ] Code reviewed and approved by all 3 developers
- [ ] CI/CD pipeline passes all checks on fresh PR
- [ ] Documentation reviewed and tested by new developer simulation
- [ ] Performance: Frontend build <30s, backend startup <10s
- [ ] Demo recorded showing complete developer workflow
- [ ] Stakeholder (Product Owner) approval of setup

## ðŸ”— Dependencies
- **Blocked by:** None (first story)
- **Blocks:** All subsequent stories depend on this foundation

## ðŸ§ª Testing Strategy
- **Unit Tests:** Basic test setup for both frontend (Jest) and backend (pytest)
- **Integration Tests:** API endpoint testing with test client
- **E2E Tests:** Basic smoke test that frontend can connect to backend
- **Manual Testing:** Full developer onboarding simulation with fresh environment

## ðŸ“ Notes
- Use latest stable versions of all dependencies
- Ensure compatibility between React 19 and all supporting libraries
- Python 3.14 may have limited library support - prepare fallback to 3.12
- Consider using Bun as alternative to npm for faster dependency installation
- Setup should work on macOS, Linux, and Windows (WSL)

## ðŸ“Š Success Metrics
- **Setup Time:** <30 minutes for new developer
- **Build Performance:** Frontend build <30s, Backend startup <10s
- **CI Pipeline:** Complete pipeline run <5 minutes
- **Developer Satisfaction:** 9/10 rating on setup experience survey 